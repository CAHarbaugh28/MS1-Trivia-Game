<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pepardy</title>
    <link rel="stylesheet" href="main.css">
    <script src="main.js"></script>
</head>
<body>
<div id = "homePage">
    <div class = 'header'>
        <button onclick="window.location.href = 'main.html';">Pepardy</button>
        <h3>The game were you could win thousands of dollars!</h3>
        <p>*Money won in the game is not real.</p>
    </div>

    <div id = "playerNumber">
        <h2>How many players do we have?</h2>
        <button onclick="onePlayer()" class="button1">One Player</button> 
        <button onclick="twoPlayers()" class="button2">Two Players</button>
    </div>
   
    <div id = "instructions">
        <h2>Instructions</h2>
        <p>Pick a tile from one of the 4 categorys with easiest at the top and more challenging at the bottom. The more challenging the question; the more money you could win. If you're playing with a friend then you will go back and forth picking and answering questions trying to earn the most money before all the questions have been answered.</p>
    </div>

    <div id = "players" >
        <input type="text" placeholder="Player One's Name" id="playerOneValue" style="display: none;">
        <input type="text" placeholder="Player Two's Name" id="playerTwoValue" style="display: none;">
    </div>
    <div id="startButton" style="display: none;">
        <button onclick="startGame();" >Start</button>
    </div>

    <input type="text" id="playerCount" style="display: none">
</div>

<script>
    function startGame() {
        var playerOneName = document.getElementById('playerOneValue').value;
        var playerTwoName = document.getElementById('playerTwoValue').value;

        var route = 'game.html';
        var queryString = '';
        var playerCount = getPlayerCount();

        if(playerCount === '1') queryString = `?playerOneName=${playerOneName}`;
        if(playerCount === '2') queryString = `?playerOneName=${playerOneName}\&playerTwoName=${playerTwoName}`;
        
        window.location.href = `${route}${queryString}&playerCount=${playerCount}`;
    }
    
    function onePlayer() { 
        document.getElementById("instructions").style.display="none"; 
        document.getElementById("playerNumber").style.display="none"; 
        document.getElementById("playerOneValue").style.display="block"; 
        document.getElementById("playerTwoValue").style.display="none"; 
        document.getElementById("startButton").style.display="block"; 
        
        setPlayerCount(1);
}
    function twoPlayers() { 
        document.getElementById("instructions").style.display="none"; 
        document.getElementById("playerNumber").style.display="none"; 
        document.getElementById("playerOneValue").style.display="block"; 
        document.getElementById("playerTwoValue").style.display="block"; 
        document.getElementById("startButton").style.display="block";
        
        setPlayerCount(2);
}

    let setPlayerCount = count => document.getElementById("playerCount").value = count;
    function getPlayerCount() {return document.getElementById("playerCount").value;}

</script>

</body>

</html>